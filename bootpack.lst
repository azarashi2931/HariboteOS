     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_hlt
     7 00000000                                 	EXTERN	_io_load_eflags
     8 00000000                                 	EXTERN	_io_cli
     9 00000000                                 	EXTERN	_io_out8
    10 00000000                                 	EXTERN	_io_store_eflags
    11 00000000                                 [FILE "bootpack.c"]
    12 00000000                                 	GLOBAL	_Color8_000000
    13                                          [SECTION .data]
    14 00000000                                 _Color8_000000:
    15 00000000 00                              	DB	0
    16 00000001                                 	GLOBAL	_Color8_FF0000
    17 00000001                                 _Color8_FF0000:
    18 00000001 01                              	DB	1
    19 00000002                                 	GLOBAL	_Color8_00FF00
    20 00000002                                 _Color8_00FF00:
    21 00000002 02                              	DB	2
    22 00000003                                 	GLOBAL	_Color8_FFFF00
    23 00000003                                 _Color8_FFFF00:
    24 00000003 03                              	DB	3
    25 00000004                                 	GLOBAL	_Color8_0000FF
    26 00000004                                 _Color8_0000FF:
    27 00000004 04                              	DB	4
    28 00000005                                 	GLOBAL	_Color8_FF00FF
    29 00000005                                 _Color8_FF00FF:
    30 00000005 05                              	DB	5
    31 00000006                                 	GLOBAL	_Color8_00FFFF
    32 00000006                                 _Color8_00FFFF:
    33 00000006 06                              	DB	6
    34 00000007                                 	GLOBAL	_Color8_FFFFFF
    35 00000007                                 _Color8_FFFFFF:
    36 00000007 07                              	DB	7
    37 00000008                                 	GLOBAL	_Color8_C6C6C6
    38 00000008                                 _Color8_C6C6C6:
    39 00000008 08                              	DB	8
    40 00000009                                 	GLOBAL	_Color8_840000
    41 00000009                                 _Color8_840000:
    42 00000009 09                              	DB	9
    43 0000000A                                 	GLOBAL	_Color8_008400
    44 0000000A                                 _Color8_008400:
    45 0000000A 0A                              	DB	10
    46 0000000B                                 	GLOBAL	_Color8_848400
    47 0000000B                                 _Color8_848400:
    48 0000000B 0B                              	DB	11
    49 0000000C                                 	GLOBAL	_Color8_000084
    50 0000000C                                 _Color8_000084:
    51 0000000C 0C                              	DB	12
    52 0000000D                                 	GLOBAL	_Color8_840084
    53 0000000D                                 _Color8_840084:
    54 0000000D 0D                              	DB	13
    55 0000000E                                 	GLOBAL	_Color8_008484
    56 0000000E                                 _Color8_008484:
    57 0000000E 0E                              	DB	14
    58 0000000F                                 	GLOBAL	_Color8_848484
    59 0000000F                                 _Color8_848484:
    60 0000000F 0F                              	DB	15
    61                                          [SECTION .text]
    62 00000000                                 	GLOBAL	_HariMain
    63 00000000                                 _HariMain:
    64 00000000 55                              	PUSH	EBP
    65 00000001 89 E5                           	MOV	EBP,ESP
    66 00000003 E8 00000025                     	CALL	_init_palette
    67 00000008 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    68 0000000F 50                              	PUSH	EAX
    69 00000010 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    70 00000017 50                              	PUSH	EAX
    71 00000018 FF 35 00000FF8                  	PUSH	DWORD [4088]
    72 0000001E E8 000000F6                     	CALL	_init_screen
    73 00000023 83 C4 0C                        	ADD	ESP,12
    74 00000026                                 L2:
    75 00000026 E8 [00000000]                   	CALL	_io_hlt
    76 0000002B EB F9                           	JMP	L2
    77                                          [SECTION .data]
    78 00000010                                 _table_rgb.0:
    79 00000010 00                              	DB	0
    80 00000011 00                              	DB	0
    81 00000012 00                              	DB	0
    82 00000013 FF                              	DB	-1
    83 00000014 00                              	DB	0
    84 00000015 00                              	DB	0
    85 00000016 00                              	DB	0
    86 00000017 FF                              	DB	-1
    87 00000018 00                              	DB	0
    88 00000019 FF                              	DB	-1
    89 0000001A FF                              	DB	-1
    90 0000001B 00                              	DB	0
    91 0000001C 00                              	DB	0
    92 0000001D 00                              	DB	0
    93 0000001E FF                              	DB	-1
    94 0000001F FF                              	DB	-1
    95 00000020 00                              	DB	0
    96 00000021 FF                              	DB	-1
    97 00000022 00                              	DB	0
    98 00000023 FF                              	DB	-1
    99 00000024 FF                              	DB	-1
   100 00000025 FF                              	DB	-1
   101 00000026 FF                              	DB	-1
   102 00000027 FF                              	DB	-1
   103 00000028 C6                              	DB	-58
   104 00000029 C6                              	DB	-58
   105 0000002A C6                              	DB	-58
   106 0000002B 84                              	DB	-124
   107 0000002C 00                              	DB	0
   108 0000002D 00                              	DB	0
   109 0000002E 00                              	DB	0
   110 0000002F 84                              	DB	-124
   111 00000030 00                              	DB	0
   112 00000031 84                              	DB	-124
   113 00000032 84                              	DB	-124
   114 00000033 00                              	DB	0
   115 00000034 00                              	DB	0
   116 00000035 00                              	DB	0
   117 00000036 84                              	DB	-124
   118 00000037 84                              	DB	-124
   119 00000038 00                              	DB	0
   120 00000039 84                              	DB	-124
   121 0000003A 00                              	DB	0
   122 0000003B 84                              	DB	-124
   123 0000003C 84                              	DB	-124
   124 0000003D 84                              	DB	-124
   125 0000003E 84                              	DB	-124
   126 0000003F 84                              	DB	-124
   127                                          [SECTION .text]
   128 0000002D                                 	GLOBAL	_init_palette
   129 0000002D                                 _init_palette:
   130 0000002D 55                              	PUSH	EBP
   131 0000002E 89 E5                           	MOV	EBP,ESP
   132 00000030 68 [00000010]                   	PUSH	_table_rgb.0
   133 00000035 6A 0F                           	PUSH	15
   134 00000037 6A 00                           	PUSH	0
   135 00000039 E8 00000002                     	CALL	_set_palette
   136 0000003E C9                              	LEAVE
   137 0000003F C3                              	RET
   138 00000040                                 	GLOBAL	_set_palette
   139 00000040                                 _set_palette:
   140 00000040 55                              	PUSH	EBP
   141 00000041 89 E5                           	MOV	EBP,ESP
   142 00000043 57                              	PUSH	EDI
   143 00000044 56                              	PUSH	ESI
   144 00000045 53                              	PUSH	EBX
   145 00000046 51                              	PUSH	ECX
   146 00000047 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   147 0000004A 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   148 0000004D 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   149 00000050 E8 [00000000]                   	CALL	_io_load_eflags
   150 00000055 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   151 00000058 E8 [00000000]                   	CALL	_io_cli
   152 0000005D 53                              	PUSH	EBX
   153 0000005E 68 000003C8                     	PUSH	968
   154 00000063 E8 [00000000]                   	CALL	_io_out8
   155 00000068 39 FB                           	CMP	EBX,EDI
   156 0000006A 58                              	POP	EAX
   157 0000006B 5A                              	POP	EDX
   158 0000006C 7D 48                           	JGE	L13
   159 0000006E 29 DF                           	SUB	EDI,EBX
   160 00000070 89 FB                           	MOV	EBX,EDI
   161 00000072                                 L11:
   162 00000072 8A 06                           	MOV	AL,BYTE [ESI]
   163 00000074 C0 E8 02                        	SHR	AL,2
   164 00000077 0F B6 C0                        	MOVZX	EAX,AL
   165 0000007A 50                              	PUSH	EAX
   166 0000007B 68 000003C9                     	PUSH	969
   167 00000080 E8 [00000000]                   	CALL	_io_out8
   168 00000085 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   169 00000088 C0 E8 02                        	SHR	AL,2
   170 0000008B 0F B6 C0                        	MOVZX	EAX,AL
   171 0000008E 50                              	PUSH	EAX
   172 0000008F 68 000003C9                     	PUSH	969
   173 00000094 E8 [00000000]                   	CALL	_io_out8
   174 00000099 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   175 0000009C C0 E8 02                        	SHR	AL,2
   176 0000009F 83 C6 03                        	ADD	ESI,3
   177 000000A2 0F B6 C0                        	MOVZX	EAX,AL
   178 000000A5 50                              	PUSH	EAX
   179 000000A6 68 000003C9                     	PUSH	969
   180 000000AB E8 [00000000]                   	CALL	_io_out8
   181 000000B0 83 C4 18                        	ADD	ESP,24
   182 000000B3 4B                              	DEC	EBX
   183 000000B4 75 BC                           	JNE	L11
   184 000000B6                                 L13:
   185 000000B6 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   186 000000B9 89 45 08                        	MOV	DWORD [8+EBP],EAX
   187 000000BC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   188 000000BF 5B                              	POP	EBX
   189 000000C0 5E                              	POP	ESI
   190 000000C1 5F                              	POP	EDI
   191 000000C2 5D                              	POP	EBP
   192 000000C3 E9 [00000000]                   	JMP	_io_store_eflags
   193 000000C8                                 	GLOBAL	_boxfill8
   194 000000C8                                 _boxfill8:
   195 000000C8 55                              	PUSH	EBP
   196 000000C9 89 E5                           	MOV	EBP,ESP
   197 000000CB 57                              	PUSH	EDI
   198 000000CC 56                              	PUSH	ESI
   199 000000CD 53                              	PUSH	EBX
   200 000000CE 57                              	PUSH	EDI
   201 000000CF 57                              	PUSH	EDI
   202 000000D0 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   203 000000D3 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   204 000000D6 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   205 000000D9 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   206 000000DC 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   207 000000DF 7F 31                           	JG	L26
   208 000000E1 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   209 000000E4 0F AF D9                        	IMUL	EBX,ECX
   210 000000E7                                 L24:
   211 000000E7 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   212 000000EA 39 FA                           	CMP	EDX,EDI
   213 000000EC 7F 1B                           	JG	L28
   214 000000EE 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   215 000000F1 01 DE                           	ADD	ESI,EBX
   216 000000F3 01 D6                           	ADD	ESI,EDX
   217 000000F5 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   218 000000F8                                 L23:
   219 000000F8 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   220 000000FB 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   221 000000FE 42                              	INC	EDX
   222 000000FF 88 06                           	MOV	BYTE [ESI],AL
   223 00000101 46                              	INC	ESI
   224 00000102 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   225 00000105 39 FA                           	CMP	EDX,EDI
   226 00000107 7E EF                           	JLE	L23
   227 00000109                                 L28:
   228 00000109 41                              	INC	ECX
   229 0000010A 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   230 0000010D 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   231 00000110 7E D5                           	JLE	L24
   232 00000112                                 L26:
   233 00000112 5B                              	POP	EBX
   234 00000113 5E                              	POP	ESI
   235 00000114 5B                              	POP	EBX
   236 00000115 5E                              	POP	ESI
   237 00000116 5F                              	POP	EDI
   238 00000117 5D                              	POP	EBP
   239 00000118 C3                              	RET
   240 00000119                                 	GLOBAL	_init_screen
   241 00000119                                 _init_screen:
   242 00000119 55                              	PUSH	EBP
   243 0000011A 89 E5                           	MOV	EBP,ESP
   244 0000011C 57                              	PUSH	EDI
   245 0000011D 56                              	PUSH	ESI
   246 0000011E 53                              	PUSH	EBX
   247 0000011F 83 EC 0C                        	SUB	ESP,12
   248 00000122 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   249 00000125 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   250 00000128 83 E8 1D                        	SUB	EAX,29
   251 0000012B 4F                              	DEC	EDI
   252 0000012C 50                              	PUSH	EAX
   253 0000012D 57                              	PUSH	EDI
   254 0000012E 6A 00                           	PUSH	0
   255 00000130 6A 00                           	PUSH	0
   256 00000132 6A 0E                           	PUSH	14
   257 00000134 FF 75 0C                        	PUSH	DWORD [12+EBP]
   258 00000137 FF 75 08                        	PUSH	DWORD [8+EBP]
   259 0000013A E8 FFFFFF89                     	CALL	_boxfill8
   260 0000013F 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   261 00000142 83 E8 1C                        	SUB	EAX,28
   262 00000145 50                              	PUSH	EAX
   263 00000146 57                              	PUSH	EDI
   264 00000147 50                              	PUSH	EAX
   265 00000148 6A 00                           	PUSH	0
   266 0000014A 6A 08                           	PUSH	8
   267 0000014C FF 75 0C                        	PUSH	DWORD [12+EBP]
   268 0000014F FF 75 08                        	PUSH	DWORD [8+EBP]
   269 00000152 E8 FFFFFF71                     	CALL	_boxfill8
   270 00000157 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   271 0000015A 83 C4 38                        	ADD	ESP,56
   272 0000015D 83 E8 1B                        	SUB	EAX,27
   273 00000160 50                              	PUSH	EAX
   274 00000161 57                              	PUSH	EDI
   275 00000162 50                              	PUSH	EAX
   276 00000163 6A 00                           	PUSH	0
   277 00000165 6A 07                           	PUSH	7
   278 00000167 FF 75 0C                        	PUSH	DWORD [12+EBP]
   279 0000016A FF 75 08                        	PUSH	DWORD [8+EBP]
   280 0000016D E8 FFFFFF56                     	CALL	_boxfill8
   281 00000172 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   282 00000175 48                              	DEC	EAX
   283 00000176 50                              	PUSH	EAX
   284 00000177 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   285 0000017A 57                              	PUSH	EDI
   286 0000017B 83 E8 1A                        	SUB	EAX,26
   287 0000017E 50                              	PUSH	EAX
   288 0000017F 6A 00                           	PUSH	0
   289 00000181 6A 08                           	PUSH	8
   290 00000183 FF 75 0C                        	PUSH	DWORD [12+EBP]
   291 00000186 FF 75 08                        	PUSH	DWORD [8+EBP]
   292 00000189 E8 FFFFFF3A                     	CALL	_boxfill8
   293 0000018E 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   294 00000191 83 C4 38                        	ADD	ESP,56
   295 00000194 83 EE 18                        	SUB	ESI,24
   296 00000197 56                              	PUSH	ESI
   297 00000198 6A 3B                           	PUSH	59
   298 0000019A 56                              	PUSH	ESI
   299 0000019B 6A 03                           	PUSH	3
   300 0000019D 6A 07                           	PUSH	7
   301 0000019F FF 75 0C                        	PUSH	DWORD [12+EBP]
   302 000001A2 FF 75 08                        	PUSH	DWORD [8+EBP]
   303 000001A5 E8 FFFFFF1E                     	CALL	_boxfill8
   304 000001AA 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   305 000001AD 83 E8 04                        	SUB	EAX,4
   306 000001B0 50                              	PUSH	EAX
   307 000001B1 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   308 000001B4 6A 02                           	PUSH	2
   309 000001B6 56                              	PUSH	ESI
   310 000001B7 6A 02                           	PUSH	2
   311 000001B9 6A 07                           	PUSH	7
   312 000001BB FF 75 0C                        	PUSH	DWORD [12+EBP]
   313 000001BE FF 75 08                        	PUSH	DWORD [8+EBP]
   314 000001C1 E8 FFFFFF02                     	CALL	_boxfill8
   315 000001C6 83 C4 38                        	ADD	ESP,56
   316 000001C9 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   317 000001CC 6A 3B                           	PUSH	59
   318 000001CE FF 75 F0                        	PUSH	DWORD [-16+EBP]
   319 000001D1 6A 03                           	PUSH	3
   320 000001D3 6A 0F                           	PUSH	15
   321 000001D5 FF 75 0C                        	PUSH	DWORD [12+EBP]
   322 000001D8 FF 75 08                        	PUSH	DWORD [8+EBP]
   323 000001DB E8 FFFFFEE8                     	CALL	_boxfill8
   324 000001E0 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   325 000001E3 83 E8 05                        	SUB	EAX,5
   326 000001E6 50                              	PUSH	EAX
   327 000001E7 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   328 000001EA 6A 3B                           	PUSH	59
   329 000001EC 83 E8 17                        	SUB	EAX,23
   330 000001EF 50                              	PUSH	EAX
   331 000001F0 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   332 000001F3 6A 3B                           	PUSH	59
   333 000001F5 6A 0F                           	PUSH	15
   334 000001F7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   335 000001FA FF 75 08                        	PUSH	DWORD [8+EBP]
   336 000001FD E8 FFFFFEC6                     	CALL	_boxfill8
   337 00000202 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   338 00000205 83 C4 38                        	ADD	ESP,56
   339 00000208 83 E8 03                        	SUB	EAX,3
   340 0000020B 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   341 0000020E 50                              	PUSH	EAX
   342 0000020F 6A 3B                           	PUSH	59
   343 00000211 50                              	PUSH	EAX
   344 00000212 6A 02                           	PUSH	2
   345 00000214 6A 00                           	PUSH	0
   346 00000216 FF 75 0C                        	PUSH	DWORD [12+EBP]
   347 00000219 FF 75 08                        	PUSH	DWORD [8+EBP]
   348 0000021C E8 FFFFFEA7                     	CALL	_boxfill8
   349 00000221 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   350 00000224 6A 3C                           	PUSH	60
   351 00000226 56                              	PUSH	ESI
   352 00000227 6A 3C                           	PUSH	60
   353 00000229 6A 00                           	PUSH	0
   354 0000022B FF 75 0C                        	PUSH	DWORD [12+EBP]
   355 0000022E FF 75 08                        	PUSH	DWORD [8+EBP]
   356 00000231 E8 FFFFFE92                     	CALL	_boxfill8
   357 00000236 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   358 00000239 83 C4 38                        	ADD	ESP,56
   359 0000023C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   360 0000023F 83 EB 04                        	SUB	EBX,4
   361 00000242 83 EF 2F                        	SUB	EDI,47
   362 00000245 56                              	PUSH	ESI
   363 00000246 53                              	PUSH	EBX
   364 00000247 56                              	PUSH	ESI
   365 00000248 57                              	PUSH	EDI
   366 00000249 6A 0F                           	PUSH	15
   367 0000024B FF 75 0C                        	PUSH	DWORD [12+EBP]
   368 0000024E FF 75 08                        	PUSH	DWORD [8+EBP]
   369 00000251 E8 FFFFFE72                     	CALL	_boxfill8
   370 00000256 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   371 00000259 57                              	PUSH	EDI
   372 0000025A FF 75 EC                        	PUSH	DWORD [-20+EBP]
   373 0000025D 57                              	PUSH	EDI
   374 0000025E 6A 0F                           	PUSH	15
   375 00000260 FF 75 0C                        	PUSH	DWORD [12+EBP]
   376 00000263 FF 75 08                        	PUSH	DWORD [8+EBP]
   377 00000266 E8 FFFFFE5D                     	CALL	_boxfill8
   378 0000026B 83 C4 38                        	ADD	ESP,56
   379 0000026E FF 75 E8                        	PUSH	DWORD [-24+EBP]
   380 00000271 53                              	PUSH	EBX
   381 00000272 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   382 00000275 57                              	PUSH	EDI
   383 00000276 6A 07                           	PUSH	7
   384 00000278 FF 75 0C                        	PUSH	DWORD [12+EBP]
   385 0000027B FF 75 08                        	PUSH	DWORD [8+EBP]
   386 0000027E E8 FFFFFE45                     	CALL	_boxfill8
   387 00000283 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   388 00000286 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   389 00000289 83 E8 03                        	SUB	EAX,3
   390 0000028C 50                              	PUSH	EAX
   391 0000028D 56                              	PUSH	ESI
   392 0000028E 50                              	PUSH	EAX
   393 0000028F 6A 07                           	PUSH	7
   394 00000291 FF 75 0C                        	PUSH	DWORD [12+EBP]
   395 00000294 FF 75 08                        	PUSH	DWORD [8+EBP]
   396 00000297 E8 FFFFFE2C                     	CALL	_boxfill8
   397 0000029C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   398 0000029F 5B                              	POP	EBX
   399 000002A0 5E                              	POP	ESI
   400 000002A1 5F                              	POP	EDI
   401 000002A2 5D                              	POP	EBP
   402 000002A3 C3                              	RET
