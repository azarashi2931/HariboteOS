     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_hlt
     7 00000000                                 	EXTERN	_io_load_eflags
     8 00000000                                 	EXTERN	_io_cli
     9 00000000                                 	EXTERN	_io_out8
    10 00000000                                 	EXTERN	_io_store_eflags
    11 00000000                                 [FILE "bootpack.c"]
    12 00000000                                 	GLOBAL	_Color8_000000
    13                                          [SECTION .data]
    14 00000000                                 _Color8_000000:
    15 00000000 00                              	DB	0
    16 00000001                                 	GLOBAL	_Color8_FF0000
    17 00000001                                 _Color8_FF0000:
    18 00000001 01                              	DB	1
    19 00000002                                 	GLOBAL	_Color8_00FF00
    20 00000002                                 _Color8_00FF00:
    21 00000002 02                              	DB	2
    22 00000003                                 	GLOBAL	_Color8_FFFF00
    23 00000003                                 _Color8_FFFF00:
    24 00000003 03                              	DB	3
    25 00000004                                 	GLOBAL	_Color8_0000FF
    26 00000004                                 _Color8_0000FF:
    27 00000004 04                              	DB	4
    28 00000005                                 	GLOBAL	_Color8_FF00FF
    29 00000005                                 _Color8_FF00FF:
    30 00000005 05                              	DB	5
    31 00000006                                 	GLOBAL	_Color8_00FFFF
    32 00000006                                 _Color8_00FFFF:
    33 00000006 06                              	DB	6
    34 00000007                                 	GLOBAL	_Color8_FFFFFF
    35 00000007                                 _Color8_FFFFFF:
    36 00000007 07                              	DB	7
    37 00000008                                 	GLOBAL	_Color8_C6C6C6
    38 00000008                                 _Color8_C6C6C6:
    39 00000008 08                              	DB	8
    40 00000009                                 	GLOBAL	_Color8_840000
    41 00000009                                 _Color8_840000:
    42 00000009 09                              	DB	9
    43 0000000A                                 	GLOBAL	_Color8_008400
    44 0000000A                                 _Color8_008400:
    45 0000000A 0A                              	DB	10
    46 0000000B                                 	GLOBAL	_Color8_848400
    47 0000000B                                 _Color8_848400:
    48 0000000B 0B                              	DB	11
    49 0000000C                                 	GLOBAL	_Color8_000084
    50 0000000C                                 _Color8_000084:
    51 0000000C 0C                              	DB	12
    52 0000000D                                 	GLOBAL	_Color8_840084
    53 0000000D                                 _Color8_840084:
    54 0000000D 0D                              	DB	13
    55 0000000E                                 	GLOBAL	_Color8_008484
    56 0000000E                                 _Color8_008484:
    57 0000000E 0E                              	DB	14
    58 0000000F                                 	GLOBAL	_Color8_848484
    59 0000000F                                 _Color8_848484:
    60 0000000F 0F                              	DB	15
    61                                          [SECTION .text]
    62 00000000                                 	GLOBAL	_HariMain
    63 00000000                                 _HariMain:
    64 00000000 55                              	PUSH	EBP
    65 00000001 89 E5                           	MOV	EBP,ESP
    66 00000003 E8 00000064                     	CALL	_init_palette
    67 00000008 6A 78                           	PUSH	120
    68 0000000A 6A 78                           	PUSH	120
    69 0000000C 6A 14                           	PUSH	20
    70 0000000E 6A 14                           	PUSH	20
    71 00000010 6A 01                           	PUSH	1
    72 00000012 68 00000140                     	PUSH	320
    73 00000017 68 000A0000                     	PUSH	655360
    74 0000001C E8 000000E6                     	CALL	_boxfill8
    75 00000021 68 00000096                     	PUSH	150
    76 00000026 68 000000AA                     	PUSH	170
    77 0000002B 6A 32                           	PUSH	50
    78 0000002D 6A 46                           	PUSH	70
    79 0000002F 6A 02                           	PUSH	2
    80 00000031 68 00000140                     	PUSH	320
    81 00000036 68 000A0000                     	PUSH	655360
    82 0000003B E8 000000C7                     	CALL	_boxfill8
    83 00000040 83 C4 38                        	ADD	ESP,56
    84 00000043 68 000000B4                     	PUSH	180
    85 00000048 68 000000DC                     	PUSH	220
    86 0000004D 6A 50                           	PUSH	80
    87 0000004F 6A 78                           	PUSH	120
    88 00000051 6A 04                           	PUSH	4
    89 00000053 68 00000140                     	PUSH	320
    90 00000058 68 000A0000                     	PUSH	655360
    91 0000005D E8 000000A5                     	CALL	_boxfill8
    92 00000062 83 C4 1C                        	ADD	ESP,28
    93 00000065                                 L2:
    94 00000065 E8 [00000000]                   	CALL	_io_hlt
    95 0000006A EB F9                           	JMP	L2
    96                                          [SECTION .data]
    97 00000010                                 _table_rgb.0:
    98 00000010 00                              	DB	0
    99 00000011 00                              	DB	0
   100 00000012 00                              	DB	0
   101 00000013 FF                              	DB	-1
   102 00000014 00                              	DB	0
   103 00000015 00                              	DB	0
   104 00000016 00                              	DB	0
   105 00000017 FF                              	DB	-1
   106 00000018 00                              	DB	0
   107 00000019 FF                              	DB	-1
   108 0000001A FF                              	DB	-1
   109 0000001B 00                              	DB	0
   110 0000001C 00                              	DB	0
   111 0000001D 00                              	DB	0
   112 0000001E FF                              	DB	-1
   113 0000001F FF                              	DB	-1
   114 00000020 00                              	DB	0
   115 00000021 FF                              	DB	-1
   116 00000022 00                              	DB	0
   117 00000023 FF                              	DB	-1
   118 00000024 FF                              	DB	-1
   119 00000025 FF                              	DB	-1
   120 00000026 FF                              	DB	-1
   121 00000027 FF                              	DB	-1
   122 00000028 C6                              	DB	-58
   123 00000029 C6                              	DB	-58
   124 0000002A C6                              	DB	-58
   125 0000002B 84                              	DB	-124
   126 0000002C 00                              	DB	0
   127 0000002D 00                              	DB	0
   128 0000002E 00                              	DB	0
   129 0000002F 84                              	DB	-124
   130 00000030 00                              	DB	0
   131 00000031 84                              	DB	-124
   132 00000032 84                              	DB	-124
   133 00000033 00                              	DB	0
   134 00000034 00                              	DB	0
   135 00000035 00                              	DB	0
   136 00000036 84                              	DB	-124
   137 00000037 84                              	DB	-124
   138 00000038 00                              	DB	0
   139 00000039 84                              	DB	-124
   140 0000003A 00                              	DB	0
   141 0000003B 84                              	DB	-124
   142 0000003C 84                              	DB	-124
   143 0000003D 84                              	DB	-124
   144 0000003E 84                              	DB	-124
   145 0000003F 84                              	DB	-124
   146                                          [SECTION .text]
   147 0000006C                                 	GLOBAL	_init_palette
   148 0000006C                                 _init_palette:
   149 0000006C 55                              	PUSH	EBP
   150 0000006D 89 E5                           	MOV	EBP,ESP
   151 0000006F 68 [00000010]                   	PUSH	_table_rgb.0
   152 00000074 6A 0F                           	PUSH	15
   153 00000076 6A 00                           	PUSH	0
   154 00000078 E8 00000002                     	CALL	_set_palette
   155 0000007D C9                              	LEAVE
   156 0000007E C3                              	RET
   157 0000007F                                 	GLOBAL	_set_palette
   158 0000007F                                 _set_palette:
   159 0000007F 55                              	PUSH	EBP
   160 00000080 89 E5                           	MOV	EBP,ESP
   161 00000082 57                              	PUSH	EDI
   162 00000083 56                              	PUSH	ESI
   163 00000084 53                              	PUSH	EBX
   164 00000085 51                              	PUSH	ECX
   165 00000086 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   166 00000089 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   167 0000008C 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   168 0000008F E8 [00000000]                   	CALL	_io_load_eflags
   169 00000094 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   170 00000097 E8 [00000000]                   	CALL	_io_cli
   171 0000009C 53                              	PUSH	EBX
   172 0000009D 68 000003C8                     	PUSH	968
   173 000000A2 E8 [00000000]                   	CALL	_io_out8
   174 000000A7 39 FB                           	CMP	EBX,EDI
   175 000000A9 58                              	POP	EAX
   176 000000AA 5A                              	POP	EDX
   177 000000AB 7D 48                           	JGE	L13
   178 000000AD 29 DF                           	SUB	EDI,EBX
   179 000000AF 89 FB                           	MOV	EBX,EDI
   180 000000B1                                 L11:
   181 000000B1 8A 06                           	MOV	AL,BYTE [ESI]
   182 000000B3 C0 E8 02                        	SHR	AL,2
   183 000000B6 0F B6 C0                        	MOVZX	EAX,AL
   184 000000B9 50                              	PUSH	EAX
   185 000000BA 68 000003C9                     	PUSH	969
   186 000000BF E8 [00000000]                   	CALL	_io_out8
   187 000000C4 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   188 000000C7 C0 E8 02                        	SHR	AL,2
   189 000000CA 0F B6 C0                        	MOVZX	EAX,AL
   190 000000CD 50                              	PUSH	EAX
   191 000000CE 68 000003C9                     	PUSH	969
   192 000000D3 E8 [00000000]                   	CALL	_io_out8
   193 000000D8 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   194 000000DB C0 E8 02                        	SHR	AL,2
   195 000000DE 83 C6 03                        	ADD	ESI,3
   196 000000E1 0F B6 C0                        	MOVZX	EAX,AL
   197 000000E4 50                              	PUSH	EAX
   198 000000E5 68 000003C9                     	PUSH	969
   199 000000EA E8 [00000000]                   	CALL	_io_out8
   200 000000EF 83 C4 18                        	ADD	ESP,24
   201 000000F2 4B                              	DEC	EBX
   202 000000F3 75 BC                           	JNE	L11
   203 000000F5                                 L13:
   204 000000F5 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   205 000000F8 89 45 08                        	MOV	DWORD [8+EBP],EAX
   206 000000FB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   207 000000FE 5B                              	POP	EBX
   208 000000FF 5E                              	POP	ESI
   209 00000100 5F                              	POP	EDI
   210 00000101 5D                              	POP	EBP
   211 00000102 E9 [00000000]                   	JMP	_io_store_eflags
   212 00000107                                 	GLOBAL	_boxfill8
   213 00000107                                 _boxfill8:
   214 00000107 55                              	PUSH	EBP
   215 00000108 89 E5                           	MOV	EBP,ESP
   216 0000010A 57                              	PUSH	EDI
   217 0000010B 56                              	PUSH	ESI
   218 0000010C 53                              	PUSH	EBX
   219 0000010D 57                              	PUSH	EDI
   220 0000010E 57                              	PUSH	EDI
   221 0000010F 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   222 00000112 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   223 00000115 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   224 00000118 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   225 0000011B 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   226 0000011E 7F 31                           	JG	L26
   227 00000120 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   228 00000123 0F AF D9                        	IMUL	EBX,ECX
   229 00000126                                 L24:
   230 00000126 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   231 00000129 39 FA                           	CMP	EDX,EDI
   232 0000012B 7F 1B                           	JG	L28
   233 0000012D 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   234 00000130 01 DE                           	ADD	ESI,EBX
   235 00000132 01 D6                           	ADD	ESI,EDX
   236 00000134 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   237 00000137                                 L23:
   238 00000137 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   239 0000013A 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   240 0000013D 42                              	INC	EDX
   241 0000013E 88 06                           	MOV	BYTE [ESI],AL
   242 00000140 46                              	INC	ESI
   243 00000141 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   244 00000144 39 FA                           	CMP	EDX,EDI
   245 00000146 7E EF                           	JLE	L23
   246 00000148                                 L28:
   247 00000148 41                              	INC	ECX
   248 00000149 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   249 0000014C 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   250 0000014F 7E D5                           	JLE	L24
   251 00000151                                 L26:
   252 00000151 5B                              	POP	EBX
   253 00000152 5E                              	POP	ESI
   254 00000153 5B                              	POP	EBX
   255 00000154 5E                              	POP	ESI
   256 00000155 5F                              	POP	EDI
   257 00000156 5D                              	POP	EBP
   258 00000157 C3                              	RET
